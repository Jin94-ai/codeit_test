# 팀 미팅 - 2025-12-08

## 회의 정보
- **날짜**: 2025-12-08
- **시간**: 비동기 (디스코드 텍스트 기반 협업)
- **참석자**: 이진석(JIN), 김민우, 김나연, 김보윤, 황유민
- **불참자**: (없음)
- **회의 형태**: 온라인 비동기 커뮤니케이션

## 안건
1. EDA 결과 공유 및 검토
2. 학습 데이터 선정 (651개 vs 232개)
3. 데이터 전처리 및 YOLO 포맷 변환 방법
4. 역할 분담 및 작업 우선순위 결정

## 논의 내용

### 1. [EDA 결과 공유 및 검토]

**나연님 EDA (ny_eda.ipynb)**
- 232개 필터링된 이미지 + 763개 어노테이션 분석
- 시각화 중심: 클래스 분포, bbox 특성, 샘플 이미지
- 주요 발견: 56개 클래스, 심각한 클래스 불균형 (1:80), 배경/조명 편향

**민우님 EDA (mw_eda.ipynb)**
- 데이터 품질 검증 중심: JSON 구조, bbox 유효성, blur score
- "완전셋" 개념 분석: 3개 각도(70°, 75°, 90°) 조합
- 초기에는 651개 분석, 이후 232개 필터링 필요성 인지

**통합 분석**
- 두 EDA 모두 232개 데이터의 한계 확인
- 클래스 불균형 문제 공통 인식
- 데이터 증강 필요성 합의

### 2. [학습 데이터 선정 (651개 vs 232개)]

**논의 과정:**
- "이미지 자체가 알약이 전체 2개/ 3개 이렇게 있는거죠??" - 팀원 질문
- "저희 근데 이미지가 232개만 사용가능한 것 아닌가요?" - 나연님 확인
- JIN: 데이터셋 documentation 기반 검증 제공

**결정:**
- ✅ **232개 필터링된 데이터만 학습에 사용**
- 근거: JSON 어노테이션이 있는 이미지만 학습 가능
- 651개 중 419개는 어노테이션 없음
- file_name 기반으로 이미지-JSON 매칭 필수

### 3. [데이터 전처리 및 YOLO 포맷 변환 방법]

**초기 혼란:**
- "json으로 저장해서 어떻게 작업하는거야?" - 보윤님 질문
- "Yolo로 쓰려면 결국에는 json도 다시 변환해야한다" - 팀원 인식
- "YOLO에 맞게 dataset 클래스를 바로 구성할 수 있도록 하면 좋을 것 같아요" - 보윤님 요청

**민우님 솔루션 제시:**
- data/yolo_dataset 모듈 개발
  - config.py: 경로 설정
  - coco_parser.py: COCO JSON 파싱 + 232개 필터링
  - yolo_export.py: YOLO 포맷 변환 + stratified split

**Ver 1 리뷰 (JIN):**
- 🔴 문제점 3가지 발견:
  1. 232개 필터링 없음 (전체 데이터 사용)
  2. image_id 기준 중복 제거 (file_name 아님)
  3. Stratified split 없음 (단순 random)

**Ver 2 업데이트 (민우님):**
- ✅ 모든 문제 해결
- ✅ file_name 기반 필터링 + 정합성 체크
- ✅ Stratified split with smart single-class handling
- ✅ 95/100 점 평가 (JIN)

**최종 전략:**
```
최신화 EDA 기준 데이터 전처리 1안
- 이미지 + 어노테이션 있는 것만 학습용에 사용
- 증강(특히 클래스 적은 것) 활용 데이터 증가
```

### 4. [역할 분담 및 작업 우선순위]

**합의된 역할:**
- **나연님 & 민우님 (Data Engineer)**
  - 데이터 처리 (증강 또는 데이터셋 추가)
  - 어노테이션 처리 (필요시)
  - 나연님: requirements.txt 작성
  - 민우님: YOLO 변환 모듈 완성

- **보윤님 (Model Architect)**
  - "우선 있는 데이터 기준으로 베이스 코드(모델 설계) 작성"
  - YOLOv8 학습 파이프라인 구축
  - 민우님 모듈을 import하여 사용

- **JIN (Leader & Integration)**
  - EDA 통합 및 리뷰
  - 코드 품질 관리
  - 프로젝트 구조 개선 (yolo_dataset → src/data/)

**작업 우선순위:**
1. ✅ 232개 데이터 필터링 (완료)
2. ✅ YOLO 포맷 변환 모듈 (완료)
3. ⏳ requirements.txt 작성 (나연님)
4. ⏳ 베이스라인 모델 학습 (보윤님)
5. ⏳ 데이터 증강 전략 구체화 (나연님, 민우님)

## 결정 사항

- [x] **결정 1 - 학습 데이터**: 232개 필터링된 이미지만 사용. 651개 전체가 아닌 JSON 어노테이션 존재하는 것만 학습에 활용.

- [x] **결정 2 - YOLO 변환 모듈**: 민우님의 modular approach(config.py, coco_parser.py, yolo_export.py) 채택. Ver 2 기준으로 진행.

- [x] **결정 3 - 데이터 증강 방식**: 전처리 단계에서 미리 저장 X, 학습 중 on-the-fly 증강 O. 특히 클래스 불균형 해소를 위한 증강 중요.

- [x] **결정 4 - 프로젝트 구조**: yolo_dataset 폴더를 data/에서 src/data/로 이동. 코드는 src/, 실제 데이터 파일은 data/에 분리.

- [x] **결정 5 - Train/Val Split**: Stratified split 8:2 비율. 단일 이미지 클래스는 train에만 포함 (split 불가능).

- [ ] **결정 6 - 추가 데이터**: AI hub 추가 데이터는 1차 학습 완료 후 검토. 우선은 232개로 베이스라인 구축.

- [ ] **결정 7 - 어노테이션 작업**: 어노테이션 없는 419개 이미지는 필요시 수동 작업 고려. 우선순위 낮음.

## 기술적 이슈 해결

### 이슈 1: image_id vs file_name
- **문제**: image_id가 여러 JSON 파일에서 중복 (632건)
- **원인**: 각 JSON 파일 내부에서만 unique, 전체 데이터셋에서는 아님
- **해결**: file_name을 unique key로 사용

### 이슈 2: "완전셋" 개념 오해
- **오해**: 이미지에 알약이 4개씩 들어있다
- **실제**: 3개 각도(70°, 75°, 90°)가 모두 존재하는 약물 조합
- **해결**: 민우님의 JSON 구조 분석으로 개념 명확화

### 이슈 3: 데이터 증강 방식 혼동
- **질문**: "json으로 저장해서 어떻게 작업하는거야? 다시 증강해야하나?"
- **설명**: 데이터 로더에서 on-the-fly 증강 적용
- **해결**: 전처리와 학습 중 증강의 차이 명확화

## 다음 미팅
- **날짜**: 2025-12-09 (예정)
- **시간**: TBD
- **안건**:
  1. 베이스라인 모델 초기 학습 결과 공유
  2. 데이터 증강 전략 구체화 (기법, 비율, 클래스별 가중치)
  3. 하이퍼파라미터 튜닝 방향 논의
  4. 12/11 1차 제출 준비 상황 점검

## 기타

### 프로젝트 현황
- **마감일**: 2025-12-11 (3일 남음)
- **데이터**: 232개 이미지, 763개 어노테이션, 56개 클래스
- **모델**: YOLOv8 예정
- **최대 제출 횟수**: 10회 (5명 × 2회)

### 참고 링크
- EDA 노트북: notebooks/ny_eda.ipynb, notebooks/mw_eda.ipynb
- YOLO 변환: src/data/yolo_dataset/
- 데이터셋 문서: 팀 공유 문서 참조

### 팀 분위기
- 활발한 소통과 빠른 피드백
- 문제 발견 시 즉각적인 해결 노력
- 역할 분담 명확, 협업 원활

---
